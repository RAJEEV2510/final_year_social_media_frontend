{"version":3,"sources":["shared/models/loading-modal.js","history.js","components/auth/useAuth.js","assets/icons/rolling.gif","App.js","reducers/index.js","reducers/signedReducer.js","reducers/searchReducer.js","reducers/currentUser.js","reducers/postsReducer.js","reducers/userPostsReducer.js","reducers/notifications.js","reducers/tokenExpirationDateReducer.js","index.js"],"names":["LoadingModal","className","onClick","e","stopPropagation","src","rolling","width","height","alt","createBrowserHistory","useAuth","dispatch","useDispatch","useState","loading","setLoading","handleGetin","info","ExpirationDate","Date","getTime","type","payload","token","expiration","toISOString","localStorage","setItem","JSON","stringify","handleRefresh","data","parse","getItem","handleGetout","removeItem","On","lazy","Off","App","useSelector","state","isSignedIn","useEffect","history","fallback","rootReducers","combineReducers","action","searchedUsers","currentUser","socketId","posts","length","filter","item","_id","map","id","title","userPost","notifications","tokenExpirationDate","store","createStore","rootReducer","applyMiddleware","thunk","ReactDom","render","document","getElementById"],"mappings":"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","file":"static/js/main.ab9e0e0e.chunk.js","sourcesContent":["\r\n\r\nimport React from 'react';\r\nimport rolling from \"../../assets/icons/rolling.gif\"\r\n \r\nconst LoadingModal = ()=>{\r\n   return <div className=\"modal__container\" onClick={(e)=>e.stopPropagation()}>\r\n         <div className=\"modal\">\r\n               <img src={rolling} width=\"40rem\" height=\"40rem\" alt='Loading...' />\r\n            \r\n         </div>\r\n\t\t</div>\r\n}\r\nexport default LoadingModal;","import { createBrowserHistory } from \"history\";\r\nexport default createBrowserHistory(); ","import React, { useState,useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\n\r\nexport const useAuth = () => {\r\n  const dispatch = useDispatch();\r\n  const [loading, setLoading] = useState(true);\r\n  \r\n\r\n  //handle get in\r\n  const handleGetin = (info) => {\r\n    const ExpirationDate = new Date(\r\n      new Date().getTime() + 1000 * 60 * 60 * 24 * 30\r\n    );\r\n    dispatch({ type: \"SIGN_IN\" ,payload:info.token });\r\n    dispatch({\r\n      type: \"USER_DATA_IN\",\r\n      payload: {\r\n        ...info,\r\n        expiration: ExpirationDate.toISOString(),\r\n      },\r\n    });\r\n    localStorage.setItem(\r\n      \"userData2\",\r\n      JSON.stringify({\r\n        ...info,\r\n        expiration: ExpirationDate.toISOString(),\r\n      })\r\n    );\r\n  };\r\n\r\n  //handle get out\r\n  const handleGetout = () => {\r\n    dispatch({ type: \"SIGN_OUT\" });\r\n    dispatch({ type: \"USER_DATA_OUT\" });\r\n    localStorage.removeItem(\"userData2\");\r\n  };\r\n  const handleRefresh = () => {\r\n    const data = JSON.parse(localStorage.getItem(\"userData2\"));\r\n    if (data && data.token) {\r\n      if (new Date(data.expiration) > new Date()) {\r\n      \tdispatch({ type: \"SIGN_IN\" ,payload:data.token });\r\n        dispatch({\r\n          type: \"USER_DATA_IN\",\r\n          payload: {\r\n            ...data\r\n          },\r\n        });\r\n      }\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return { handleGetin, handleRefresh, handleGetout, loading };\r\n};\r\n","export default __webpack_public_path__ + \"static/media/rolling.3dd70d6a.gif\";","\r\nimport React,{useEffect,Suspense,lazy} from 'react';\r\nimport {Router} from 'react-router-dom';\r\nimport {useAuth} from './components/auth/useAuth.js';\r\nimport LoadingPage from './shared/models/loading-modal' \r\nimport {useSelector} from 'react-redux';\r\nimport history from './history';\r\nconst On =lazy(()=>import('./components/routes/on'));\r\nconst Off =lazy(()=>import('./components/routes/off'));\r\n  const App =()=>{\r\n  const token = useSelector(state=>state.isSignedIn)\r\n  const {loading,handleRefresh} =useAuth();\r\n  useEffect(()=>{\r\n    handleRefresh();\r\n  },[]);\r\n  if(loading){\r\n    return <LoadingPage />\r\n  }\r\n  \r\n\treturn (\r\n\t\t  <div>\r\n          <Router history={history}>\r\n             <Suspense fallback={<LoadingPage />}>\r\n             {token   ? <On  /> : <Off  />}\r\n             </Suspense>\r\n          </Router>\r\n          </div>\r\n\t\t)\r\n}\r\nexport default App;","import {combineReducers} from 'redux';\r\nimport signedReducer from './signedReducer';\r\nimport currentUser from './currentUser'\r\nimport postsReducer from './postsReducer'\r\nimport tokenExpirationDateReducer from './tokenExpirationDateReducer.js'\r\nimport SearchReducer from './searchReducer.js'\r\nimport MoreUserPost from './userPostsReducer'\r\nimport NotificationsReducer from './notifications'\r\nconst rootReducers=combineReducers({\r\n\tisSignedIn:signedReducer,\r\n\tsearchedUsers:SearchReducer,\r\n\tcurrentUser:currentUser,\r\n\tposts:postsReducer,\r\n\tuserPost:MoreUserPost,\r\n\tnotifications:NotificationsReducer,\r\n\ttokenExpirationDate:tokenExpirationDateReducer\r\n});\r\nexport default rootReducers;","export default(state=null,action)=>{\r\n\tif(action.type === 'SIGN_IN') return action.payload;\r\n\telse if(action.type ==='SIGN_OUT') return null; \r\n\telse return state;\r\n}","export default(state=[],action)=>{\r\n\tif(action.type === 'SAVE_SEARCH') return [...state,...action.payload];\r\n    if(action.type === 'NEW_SEARCH') return [...action.payload];\r\n\telse return state;\r\n}","export default(state={},action)=>{\r\n\tswitch (action.type) {\r\n\t\tcase 'USER_DATA_IN':\r\n\t\t\treturn action.payload;\r\n\t\tcase 'ADD_SOCKET':\r\n\t\treturn {...state,socketId:action.payload};\r\n\t\tcase 'USER_DATA_OUT':\r\n\t\t    return null\t\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}","export default(state={posts:[],length:0},action)=>{\r\n    switch (action.type) {\r\n    \tcase 'FETCH_POSTS':\r\n    \t\treturn {posts:[...state.posts,...action.payload.posts],length:action.payload.length};\r\n        case 'CREATE_POST':\r\n            return {posts:[action.payload,...state.posts],length:state.length+1};\r\n         case 'DELETE_POST':\r\n            return {posts:[...state.posts.filter(item=>item._id !== action.payload)],length:state.length-1}             \r\n         case 'EDIT_POST':\r\n            return {posts:[...state.posts.map(item=>{ \r\n                 if(item._id === action.payload.id)\r\n                  item.title=action.payload.title;\r\n                 return item})],length:state.length}              \t\r\n        default:\r\n    \t\treturn state;\r\n    }\r\n}","export default(state=[],action)=>{\r\n\tif(action.type === 'MORE_POSTS') return [...state,...action.payload];\r\n    else if(action.type === 'ONE_MORE_POST') return [action.payload,...state];\r\n\telse if(action.type === 'DELETE_USER_POST') \r\n\t\t return state.filter(item=>item._id !== action.payload)        \r\n\telse return state;\r\n}","export default(state=[],action)=>{\r\n\tswitch(action.type){\r\n\t\tcase 'FETCH_NOTIFICATIONS':\r\n\t\t   return [...state,...action.payload];\r\n\t\tcase 'ADD_NOTIFY':\r\n\t\t   return [action.payload,...state];\r\n\t\tcase 'REMOVE_NOTIFY':\r\n\t\t   return state.filter(item=>item._id != action.payload);   \r\n\t\tdefault : return state;      \r\n\t}\r\n}","export default(state=null,action)=>{\r\n\tswitch (action.type) {\r\n\t\tcase 'LOGIN_TOKEN':\r\n\t\t\treturn action.payload\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}","import React from 'react';\r\nimport ReactDom from 'react-dom';\r\nimport App from './App';\r\nimport './assets/style/style.scss';\r\nimport {Provider} from 'react-redux';\r\nimport {createStore,applyMiddleware} from 'redux';\r\nimport rootReducer from './reducers/index.js';\r\nimport thunk from 'redux-thunk';\r\n\r\n\t\r\n// REACT_APP_WEATHER_API_KEY=eff6908324d2496dacc16a5a56427f42\r\n// REACT_APP_SALAT_API_KEY=9ba81b545emsh8ec3c41be845490p1db0e6jsncf03fd85530d\r\n// REACT_APP_BACKEND_URL=http://localhost:5000/api\r\n\r\nconst store=createStore(\r\n  rootReducer,\r\n   applyMiddleware(thunk)\r\n );\r\n\r\nReactDom.render(\r\n\t<Provider store={store}>\r\n\t  <App />\r\n\t </Provider>,\r\n\tdocument.getElementById('root'));\r\n"],"sourceRoot":""}