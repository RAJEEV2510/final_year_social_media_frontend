(this.webpackJsonphello=this.webpackJsonphello||[]).push([[12],{466:function(e,t,s){},538:function(e,t,s){"use strict";s.r(t);var n=s(0),o=s.n(n),r=s(52),i=s(83),l=s(3),c=function(){return Object(l.jsx)("div",{className:"user-placeholder",children:Object(l.jsxs)("div",{className:"user-placeholder__header",children:[Object(l.jsx)("div",{className:"user-placeholder__img"}),Object(l.jsxs)("div",{className:"user-placeholder__info",children:[Object(l.jsx)("div",{className:"user-placeholder__username"}),Object(l.jsx)("div",{className:"user-placeholder__name"})]})]})})},a=s(51),h=s(46),d=function(e){var t=e.user;return Object(l.jsxs)("div",{className:"user",children:[Object(l.jsxs)("div",{className:"user__header",children:[Object(l.jsx)("div",{className:"user__img",children:Object(l.jsx)(h.a,{to:"/user/".concat(t._id),children:Object(l.jsx)("img",{src:t.img,alt:t.username})})}),Object(l.jsxs)("div",{className:"user__info",children:[Object(l.jsxs)(h.a,{to:"/user/".concat(t._id),children:[Object(l.jsx)("div",{className:"user__username",children:t.username})," "]}),Object(l.jsx)("div",{className:"user__name",children:t.name})]})]}),Object(l.jsx)("div",{className:"user__add",title:"add to your chat",children:Object(l.jsx)("img",{src:"https://static.xx.fbcdn.net/rsrc.php/v3/y0/r/dtFHqE_yJlH.png",alt:"add to your chat"})})]})},p=s(9),u=s(89),m=s(541);s(466);const f=o.a.memo((()=>{const e=Object(p.c)((e=>e.searchedUsers)),t=Object(p.c)((e=>e.currentUser._id));console.log(t);const{register:s,handleSubmit:o,errors:f}=Object(i.a)(),{loading:j,request:v,error:b}=Object(a.a)(),g=Object(p.b)(),[_,O]=Object(n.useState)(0),[x,y]=Object(n.useState)(!0),[w,S]=Object(n.useState)(null),[T,E]=Object(n.useState)([]),N=async(t,s)=>{try{const n=await v("https://socialbackends.herokuapp.com/api"+"/users?q=".concat(t,"&skip=").concat(s?0:e.length),"get");n.data.users.length<10&&y(!1),s&&O(n.data.length),s&&!n.data.length&&g({type:"NEW_SEARCH",payload:[]}),g(s?{type:"NEW_SEARCH",payload:n.data.users}:{type:"SAVE_SEARCH",payload:n.data.users})}catch(n){console.log(b)}};return Object(n.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("userData2"))._id;fetch("https://socialbackends.herokuapp.com/friends/".concat(e)).then((e=>e.json())).then((e=>{console.log(e),E(null==e?[]:e.friends)}))}),[]),Object(n.useEffect)((()=>{document.title="Friends"}),[]),Object(l.jsxs)("div",{className:"friends",children:[Object(l.jsxs)("div",{className:"friends__container",children:[Object(l.jsx)("div",{className:"friends__header",children:Object(l.jsx)("form",{onSubmit:o((e=>{S(e.keyword),N(e.keyword.trim(),!0)})),children:Object(l.jsxs)("div",{className:"friends__form__unit",children:[Object(l.jsx)("input",{type:"text",name:"keyword",className:"friends__search",ref:s,required:!0}),Object(l.jsx)("span",{className:"icon",children:Object(l.jsx)(r.D,{width:"2.2rem",height:"2.2rem"})}),Object(l.jsxs)("button",{className:"btn btn--contained1-primary mg-none",children:[" ","Search"]})]})})}),Object(l.jsxs)("div",{className:"friends__users",children:[j&&Object(l.jsxs)("div",{children:[Object(l.jsx)(c,{}),Object(l.jsx)(c,{}),Object(l.jsx)(c,{}),Object(l.jsx)(c,{})]}),e.length&&!j&&Object(l.jsxs)(u.a,{dataLength:_,next:()=>N(w),hasMore:!!w&&x,loader:Object(l.jsxs)("div",{children:[" ",Object(l.jsx)(c,{}),Object(l.jsx)(c,{})]}),children:[e.map((e=>Object(l.jsx)(d,{user:e}))),";"]})," ",!e.length&&w&&Object(l.jsx)("h1",{className:"text-center no-more",children:"no users found!"}),!e.length&&!w&&!j&&Object(l.jsx)("div",{className:"img-container",children:Object(l.jsx)(r.J,{})})]})," "]}),Object(l.jsx)("h1",{style:{textAlign:"center",color:"white",fontSize:"20px"},children:" Friends"}),Object(l.jsx)("div",{className:"friend_parent",children:T.length>0?null===T||void 0===T?void 0:T.map((e=>(console.log(e),Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"friend_div",children:[Object(l.jsx)("div",{className:"friend_img",children:Object(l.jsx)(m.a,{alt:"Remy Sharp",src:e.img,style:{height:"80%",width:"80%"}})}),Object(l.jsxs)("div",{className:"friend_below_info",children:[Object(l.jsx)("div",{className:"friend_name",children:Object(l.jsx)("h3",{children:e.username})}),Object(l.jsx)("div",{className:"friend_call_icon",children:Object(l.jsx)(h.a,{to:"/videocall",onClick:()=>{localStorage.setItem("calleeId",e._id)}})}),Object(l.jsx)("div",{className:"friend_online",children:e.isOnline?Object(l.jsx)("div",{style:{borderRadius:"50%",width:"10px",height:"10px",background:"green"}}):""})]})]})})))):""})]})}));t.default=f},89:function(e,t,s){"use strict";var n=s(0),o=s.n(n),r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])},r(e,t)};var i=function(){return i=Object.assign||function(e){for(var t,s=1,n=arguments.length;s<n;s++)for(var o in t=arguments[s])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};var l="Pixel",c="Percent",a={unit:c,value:.8};function h(e){return"number"===typeof e?{unit:c,value:100*e}:"string"===typeof e?e.match(/^(\d*(\.\d+)?)px$/)?{unit:l,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:c,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),a):(console.warn("scrollThreshold should be string or number"),a)}var d=function(e){function t(t){var s=e.call(this,t)||this;return s.lastScrollTop=0,s.actionTriggered=!1,s.startY=0,s.currentY=0,s.dragging=!1,s.maxPullDownDistance=0,s.getScrollableTarget=function(){return s.props.scrollableTarget instanceof HTMLElement?s.props.scrollableTarget:"string"===typeof s.props.scrollableTarget?document.getElementById(s.props.scrollableTarget):(null===s.props.scrollableTarget&&console.warn("You are trying to pass scrollableTarget but it is null. This might\n        happen because the element may not have been added to DOM yet.\n        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.\n      "),null)},s.onStart=function(e){s.lastScrollTop||(s.dragging=!0,e instanceof MouseEvent?s.startY=e.pageY:e instanceof TouchEvent&&(s.startY=e.touches[0].pageY),s.currentY=s.startY,s._infScroll&&(s._infScroll.style.willChange="transform",s._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},s.onMove=function(e){s.dragging&&(e instanceof MouseEvent?s.currentY=e.pageY:e instanceof TouchEvent&&(s.currentY=e.touches[0].pageY),s.currentY<s.startY||(s.currentY-s.startY>=Number(s.props.pullDownToRefreshThreshold)&&s.setState({pullToRefreshThresholdBreached:!0}),s.currentY-s.startY>1.5*s.maxPullDownDistance||s._infScroll&&(s._infScroll.style.overflow="visible",s._infScroll.style.transform="translate3d(0px, "+(s.currentY-s.startY)+"px, 0px)")))},s.onEnd=function(){s.startY=0,s.currentY=0,s.dragging=!1,s.state.pullToRefreshThresholdBreached&&(s.props.refreshFunction&&s.props.refreshFunction(),s.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame((function(){s._infScroll&&(s._infScroll.style.overflow="auto",s._infScroll.style.transform="none",s._infScroll.style.willChange="none")}))},s.onScrollListener=function(e){"function"===typeof s.props.onScroll&&setTimeout((function(){return s.props.onScroll&&s.props.onScroll(e)}),0);var t=s.props.height||s._scrollableNode?e.target:document.documentElement.scrollTop?document.documentElement:document.body;s.actionTriggered||((s.props.inverse?s.isElementAtTop(t,s.props.scrollThreshold):s.isElementAtBottom(t,s.props.scrollThreshold))&&s.props.hasMore&&(s.actionTriggered=!0,s.setState({showLoader:!0}),s.props.next&&s.props.next()),s.lastScrollTop=t.scrollTop)},s.state={showLoader:!1,pullToRefreshThresholdBreached:!1},s.throttledOnScrollListener=function(e,t,s,n){var o,r=!1,i=0;function l(){o&&clearTimeout(o)}function c(){var c=this,a=Date.now()-i,h=arguments;function d(){i=Date.now(),s.apply(c,h)}function p(){o=void 0}r||(n&&!o&&d(),l(),void 0===n&&a>e?d():!0!==t&&(o=setTimeout(n?p:d,void 0===n?e-a:e)))}return"boolean"!==typeof t&&(n=s,s=t,t=void 0),c.cancel=function(){l(),r=!0},c}(150,s.onScrollListener).bind(s),s.onStart=s.onStart.bind(s),s.onMove=s.onMove.bind(s),s.onEnd=s.onEnd.bind(s),s}return function(e,t){function s(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}(t,e),t.prototype.componentDidMount=function(){if("undefined"===typeof this.props.dataLength)throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),"number"===typeof this.props.initialScrollY&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),"function"!==typeof this.props.refreshFunction))throw new Error('Mandatory prop "refreshFunction" missing.\n          Pull Down To Refresh functionality will not work\n          as expected. Check README.md for usage\'')},t.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.dataLength!==e.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},t.prototype.isElementAtTop=function(e,t){void 0===t&&(t=.8);var s=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,n=h(t);return n.unit===l?e.scrollTop<=n.value+s-e.scrollHeight+1||0===e.scrollTop:e.scrollTop<=n.value/100+s-e.scrollHeight+1||0===e.scrollTop},t.prototype.isElementAtBottom=function(e,t){void 0===t&&(t=.8);var s=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,n=h(t);return n.unit===l?e.scrollTop+s>=e.scrollHeight-n.value:e.scrollTop+s>=n.value/100*e.scrollHeight},t.prototype.render=function(){var e=this,t=i({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),s=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),n=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return o.a.createElement("div",{style:n,className:"infinite-scroll-component__outerdiv"},o.a.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(t){return e._infScroll=t},style:t},this.props.pullDownToRefresh&&o.a.createElement("div",{style:{position:"relative"},ref:function(t){return e._pullDown=t}},o.a.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!s&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},t}(n.Component);t.a=d}}]);
//# sourceMappingURL=12.dfd7a12c.chunk.js.map