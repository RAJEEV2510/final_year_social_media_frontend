(this.webpackJsonphello=this.webpackJsonphello||[]).push([[16],{527:function(e,t,c){"use strict";c.r(t);var a=c(48),s=c.n(a),n=c(49),r=c(18),i=c(0),o=c(16),l=c(83),d=c(9),u=c(51),h=c(3);t.default=function(e){var t=Object(l.a)(),c=t.register,a=t.handleSubmit,j=Object(u.a)(),p=(j.error,j.loading),b=j.request,f=e.match.params.id,m=Object(i.useState)(e.location.state?e.location.state.title:null),O=Object(r.a)(m,2),x=O[0],v=O[1],_=Object(d.b)(),g=Object(d.c)((function(e){return e.isSignedIn})),k=function(){var t=Object(n.a)(s.a.mark((function t(c){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b("https://socialbackends.herokuapp.com/api"+"/posts/edit/".concat(f),"patch",c,{Authorization:"Bearer "+g});case 3:_({type:"EDIT_POST",payload:{id:f,title:c.title}}),e.history.push("/"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(n.a)(s.a.mark((function t(){var c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b("https://socialbackends.herokuapp.com/api"+"/posts/".concat(f));case 3:c=t.sent,v(c.data.post?c.data.post.title:""),c.data.post||e.history.push("/"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();return Object(i.useEffect)((function(){document.title="Edit your post",x||y()}),[]),!x&&p?Object(h.jsx)("div",{children:Object(h.jsx)(o.a,{})}):Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"profile__header",children:[Object(h.jsx)("div",{className:"profile__header--icon",onClick:function(){return e.history.goBack()},children:Object(h.jsx)("svg",{viewBox:"0 0 24 24",children:Object(h.jsx)("g",{children:Object(h.jsx)("path",{d:"M20 11H7.414l4.293-4.293c.39-.39.39-1.023 0-1.414s-1.023-.39-1.414 0l-6 6c-.39.39-.39 1.023 0 1.414l6 6c.195.195.45.293.707.293s.512-.098.707-.293c.39-.39.39-1.023 0-1.414L7.414 13H20c.553 0 1-.447 1-1s-.447-1-1-1z"})})})}),Object(h.jsx)("h2",{children:"Edit Your Post"})]}),Object(h.jsxs)("div",{className:"form__container",children:[Object(h.jsx)("div",{className:"divider"}),Object(h.jsx)("div",{className:"form__heading",children:Object(h.jsx)("h3",{children:"Edit a post"})}),Object(h.jsx)("div",{className:"form",children:Object(h.jsxs)("form",{className:"form__body big",onSubmit:a(k),children:[Object(h.jsx)("div",{className:"form__unit",children:Object(h.jsx)("div",{className:"form__unit features",children:Object(h.jsx)("textarea",{ref:c,defaultValue:x,name:"title",placeholder:"what in your mind..?"})})}),Object(h.jsx)("button",{disabled:p,className:"btn btn--contained1-primary mg-none",children:p?"Updating....":"Update"})]})})]})]})}}}]);
//# sourceMappingURL=16.2777d781.chunk.js.map