(this.webpackJsonphello=this.webpackJsonphello||[]).push([[16],{527:function(t,e,c){"use strict";c.r(e);var a=c(48),n=c.n(a),s=c(49),r=c(18),i=c(0),o=c(16),l=c(83),d=c(9),u=c(51),h=c(3);e.default=function(t){var e=Object(l.a)(),c=e.register,a=e.handleSubmit,j=Object(u.a)(),p=(j.error,j.loading),b=j.request,f=t.match.params.id,O=Object(i.useState)(t.location.state?t.location.state.title:null),m=Object(r.a)(O,2),x=m[0],v=m[1],_=Object(d.b)(),g=Object(d.c)((function(t){return t.isSignedIn})),y=function(){var e=Object(s.a)(n.a.mark((function e(c){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b("http://localhost:5000/api"+"/posts/edit/".concat(f),"patch",c,{Authorization:"Bearer "+g});case 3:_({type:"EDIT_POST",payload:{id:f,title:c.title}}),t.history.push("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(s.a)(n.a.mark((function e(){var c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b("http://localhost:5000/api"+"/posts/".concat(f));case 3:c=e.sent,v(c.data.post?c.data.post.title:""),c.data.post||t.history.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){document.title="Edit your post",x||N()}),[]),!x&&p?Object(h.jsx)("div",{children:Object(h.jsx)(o.a,{})}):Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"profile__header",children:[Object(h.jsx)("div",{className:"profile__header--icon",onClick:function(){return t.history.goBack()},children:Object(h.jsx)("svg",{viewBox:"0 0 24 24",children:Object(h.jsx)("g",{children:Object(h.jsx)("path",{d:"M20 11H7.414l4.293-4.293c.39-.39.39-1.023 0-1.414s-1.023-.39-1.414 0l-6 6c-.39.39-.39 1.023 0 1.414l6 6c.195.195.45.293.707.293s.512-.098.707-.293c.39-.39.39-1.023 0-1.414L7.414 13H20c.553 0 1-.447 1-1s-.447-1-1-1z"})})})}),Object(h.jsx)("h2",{children:"Edit Your Post"})]}),Object(h.jsxs)("div",{className:"form__container",children:[Object(h.jsx)("div",{className:"divider"}),Object(h.jsx)("div",{className:"form__heading",children:Object(h.jsx)("h3",{children:"Edit a post"})}),Object(h.jsx)("div",{className:"form",children:Object(h.jsxs)("form",{className:"form__body big",onSubmit:a(y),children:[Object(h.jsx)("div",{className:"form__unit",children:Object(h.jsx)("div",{className:"form__unit features",children:Object(h.jsx)("textarea",{ref:c,defaultValue:x,name:"title",placeholder:"what in your mind..?"})})}),Object(h.jsx)("button",{disabled:p,className:"btn btn--contained1-primary mg-none",children:p?"Updating....":"Update"})]})})]})]})}}}]);
//# sourceMappingURL=16.7a64623c.chunk.js.map